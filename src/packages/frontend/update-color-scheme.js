/*
 *  This file is part of CoCalc: Copyright © 2020 Sagemath, Inc.
 *  License: MS-RSL – see LICENSE.md for details
 */

// update the colorscheme definitions.  This is not done automatically.  You must
// manually update _colors.sass via "pnpm run update-color-scheme" if you
// change anything (e.g., @cocalc/util/theme.ts) that impacts it.

const fs = require("fs");
const path = require("path");
const { COLORS } = require("@cocalc/util/theme");

const isObject = (a) => !!a && a.constructor === Object;

let colors_sass =
  "/* DO NOT UPDATE THIS FILE -- autogenerated via 'pnpm run update-color-scheme' based on @cocalc/util/theme.ts */\n\n";
for (let c in COLORS) {
  // there are nested definitions
  const v = COLORS[c];
  if (isObject(v)) {
    for (let c2 in v) {
      const v2 = v[c2];
      colors_sass += `$COL_${c}_${c2}: ${v2}\n`;
    }
  } else {
    colors_sass += `$COL_${c}: ${v}\n`;
  }
}

fs.writeFileSync("_colors.sass", colors_sass);
